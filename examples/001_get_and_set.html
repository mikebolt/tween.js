<!DOCTYPE html> 
<html lang="en">
	<head>
		<title>Tween.js / hello world!</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link href="css/style.css" media="screen" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<div id="info">
			<h1><a href="http://github.com/tweenjs/tween.js">tween.js</a></h1>
			<h2>00 _ hello world</h2>
			<p>Simple example for illustrating the creation and chaining of tweens.</p>
		</div>
		<div id="target" style="position:absolute; top: 100px; left: 100px; width: 100px; height: 100px; background: #a0dde9; padding: 1em;">
			hello world!
		</div>

		<script src="../src/Tween.js"></script>
		<script src="js/RequestAnimationFrame.js"></script>
		<script>

			var Coord2D = function(x, y) {
				return {
					_x: x,
					_y: y,
					get x() {
						return this._x;
					},
					get y() {
						return this._y;
					},
					set x(x) {
						this._x = x;
						this.onChanged();
					},
					set y(y) {
						this._y = y;
						this.onChanged();
					},
					onChanged: function() {
						console.log(this);
					}
				};
			};

			var position;
			var target;
			var tween, tweenBack;
		
			init();
			animate();

			function init() {

				position = new Coord2D(100, 100);
				initialPosition = new Coord2D(100, 100);
				destination = new Coord2D(700, 200);

				target = document.getElementById('target');
				tween = new TWEEN.Tween(position)
					.to(destination, 2000)
					.delay(1000)
					.easing(TWEEN.Easing.Elastic.InOut)
					.onUpdate(update);

				tweenBack = new TWEEN.Tween(position)
					.to(initialPosition, 3000)
					.easing(TWEEN.Easing.Elastic.InOut)
					.onUpdate(update);

				tween.chain(tweenBack);
				tweenBack.chain(tween);

				tween.start();

			}

			function animate( time ) {

				requestAnimationFrame( animate );

				TWEEN.update( time );

			}

			function update() {

				target.style.left = position.x + 'px';
				target.style.top = position.y + 'px';

			}
		</script>
	</body>
</html>
